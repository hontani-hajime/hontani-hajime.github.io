<!DOCTYPE html>
<html>
<head>
  <title>メモアプリ</title>
</head>
<body>
  <h1>メモアプリ</h1>
  <textarea id="memo" placeholder="ここにメモを書いて保存してください" rows="10" cols="30"></textarea><br>
  <button onclick="saveMemo()">保存</button>
  <h2>保存されたメモ</h2>
  <div id="savedMemo"></div>

  <!-- Firebase SDKの読み込み -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>

  <script>
    // ① Firebaseの設定（自分のプロジェクトに合わせて変更）
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT_ID.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    // ② Firebase初期化とFirestoreの取得
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // ③ メモ保存関数
    function saveMemo() {
      const text = document.getElementById("memo").value;
      db.collection("memos").add({
        content: text,
        timestamp: new Date()
      }).then(() => {
        alert("メモを保存しました");
        loadMemos();
      });
    }

    // ④ メモ読み込み関数
    function loadMemos() {
      db.collection("memos").orderBy("timestamp", "desc").get().then((querySnapshot) => {
        const output = document.getElementById("savedMemo");
        output.innerHTML = "";
        querySnapshot.forEach((doc) => {
          const data = doc.data();
          const div = document.createElement("div");
          div.textContent = data.content;
          output.appendChild(div);
        });
      });
    }

    // ⑤ 初回読み込み時に呼び出し
    loadMemos();
  </script>
</body>
</html>
